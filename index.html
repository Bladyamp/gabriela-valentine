<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gabriela üíñ</title>

  <style>
    :root{
      --bg1:#0b1020;
      --bg2:#121a36;
      --neon1:#00ffa8;
      --neon2:#ff4dff;
      --neon3:#45a3ff;
      --ink:#eaf2ff;
      --muted:#b8c7ff;

      --yes1:#00ffa8;
      --yes2:#00c07a;
      --no1:#ff3d57;
      --no2:#b4001f;

      --panel: rgba(18, 26, 54, .86);
      --panel2: rgba(10, 16, 36, .72);
      --border: rgba(255,255,255,.14);
      --shadow: 0 24px 80px rgba(0,0,0,.55);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      color: var(--ink);
      background:
        radial-gradient(900px 600px at 18% 12%, rgba(69,163,255,.28), transparent 60%),
        radial-gradient(900px 600px at 82% 18%, rgba(255,77,255,.20), transparent 60%),
        radial-gradient(900px 600px at 60% 80%, rgba(0,255,168,.15), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      overflow:hidden;
      padding:18px;
    }

    /* scanlines retro */
    .scanlines{
      position:fixed; inset:0;
      pointer-events:none;
      background: repeating-linear-gradient(
        to bottom,
        rgba(255,255,255,.04) 0px,
        rgba(255,255,255,.04) 1px,
        rgba(0,0,0,0) 3px,
        rgba(0,0,0,0) 6px
      );
      opacity:.35;
      mix-blend-mode: overlay;
      z-index: 5;
    }

    /* estrellas pixel */
    .stars{
      position:fixed; inset:0;
      pointer-events:none;
      background-image:
        radial-gradient(circle, rgba(255,255,255,.9) 1px, transparent 2px),
        radial-gradient(circle, rgba(255,255,255,.7) 1px, transparent 2px),
        radial-gradient(circle, rgba(255,255,255,.5) 1px, transparent 2px);
      background-size: 160px 160px, 240px 240px, 340px 340px;
      opacity:.35;
      animation: drift 18s linear infinite;
      z-index: 2;
    }
    @keyframes drift{
      from{ transform: translateY(-20px); }
      to{ transform: translateY(40px); }
    }

    canvas#confetti{
      position:fixed; inset:0;
      width:100vw; height:100vh;
      pointer-events:none;
      z-index: 60;
    }

    .flash{
      position:fixed; inset:0;
      background:white;
      opacity:0;
      pointer-events:none;
      z-index: 55;
    }
    .flash.on{
      animation: flash .45s ease-out both;
    }
    @keyframes flash{
      0%{opacity:0}
      15%{opacity:.8}
      100%{opacity:0}
    }

    .card{
      width:min(560px, 94vw);
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border: 2px solid var(--border);
      border-radius: 18px;
      padding: 22px 18px 16px;
      box-shadow: var(--shadow);
      text-align:center;
      position:relative;
      overflow:hidden;
      z-index: 10;
    }

    /* borde pixelado */
    .pixel-frame{
      position:absolute; inset:10px;
      border: 2px dashed rgba(255,255,255,.12);
      border-radius: 14px;
      pointer-events:none;
    }

    .title{
      display:flex;
      justify-content:center;
      align-items:center;
      gap:10px;
      margin-bottom:8px;
      text-shadow: 0 0 18px rgba(69,163,255,.35);
      letter-spacing: .4px;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      font-size: 12px;
      color: var(--muted);
    }

    h1{
      margin: 6px 0 10px;
      font-size: clamp(22px, 4.8vw, 34px);
      line-height:1.15;
    }

    .from{
      margin: 0 0 14px;
      font-weight: 800;
      color: var(--muted);
    }

    .prompt{
      margin: 8px 0 0;
      font-size: 13px;
      color: rgba(234,242,255,.72);
    }

    .btns{
      position:relative;
      display:flex;
      justify-content:center;
      align-items:center;
      gap: 40px;     /* separaci√≥n clara */
      margin-top: 18px;
      height: 100px; /* √°rea para que el No se mueva */
    }

    button{
      border:0;
      border-radius: 14px;
      padding: 14px 18px;
      font-size: 16px;
      cursor:pointer;
      min-width: 170px;
      color: #071018;
      font-weight: 900;
      letter-spacing: .4px;
      text-transform: uppercase;

      box-shadow:
        0 14px 0 rgba(0,0,0,.25),
        0 24px 40px rgba(0,0,0,.35);
      transform: translateY(0);
      transition: transform .08s ease, filter .2s ease;
      user-select:none;
      position:relative;
    }

    button:active{
      transform: translateY(6px);
      box-shadow:
        0 8px 0 rgba(0,0,0,.25),
        0 18px 30px rgba(0,0,0,.32);
    }

    /* estilo arcade ‚Äúbevel‚Äù */
    button::before{
      content:"";
      position:absolute; inset:2px;
      border-radius: 12px;
      border: 2px solid rgba(255,255,255,.35);
      opacity:.35;
      pointer-events:none;
    }

    #yes{
      background: linear-gradient(135deg, var(--yes1), var(--yes2));
      z-index: 2;
    }

    #no{
      background: linear-gradient(135deg, var(--no1), var(--no2));
      color: #ffe8ee;
      position:absolute;         /* escapista */
      left: calc(50% + 140px);   /* arranca separado a la derecha */
      top: 0;
      transform: translateX(-50%);
      z-index: 1;
    }

    .result{
      margin-top: 16px;
      min-height: 30px;
      font-size: 16px;
      font-weight: 900;
      color: var(--ink);
      text-shadow: 0 0 14px rgba(0,255,168,.22);
    }

    .hint{
      margin-top: 10px;
      font-size: 12px;
      color: rgba(234,242,255,.55);
    }

    /* glow brutal al ganar */
    .card.win{
      animation: winPulse .65s ease-out both;
      box-shadow:
        0 0 0 2px rgba(0,255,168,.25),
        0 0 80px rgba(0,255,168,.20),
        0 0 110px rgba(255,77,255,.16),
        var(--shadow);
    }
    @keyframes winPulse{
      0%{ transform: scale(1); filter: brightness(1); }
      35%{ transform: scale(1.03); filter: brightness(1.16); }
      70%{ transform: scale(1.01); }
      100%{ transform: scale(1); filter: brightness(1.06); }
    }
  </style>
</head>

<body>
  <canvas id="confetti"></canvas>
  <div class="flash" id="flash"></div>
  <div class="stars"></div>
  <div class="scanlines"></div>

  <main class="card" id="card">
    <div class="pixel-frame"></div>

    <div class="title">
      <span class="badge">üéÆ RETRO MODE</span>
      <span class="badge">üíñ VALENTINE QUEST</span>
    </div>

    <h1 id="q">Gabriela, ¬øquieres ser mi Valentine?</h1>
    <div class="from">‚Äî Blady üíò</div>
    <div class="prompt">Pulsa YES para avanzar de nivel‚Ä¶ üëæ</div>

    <div class="btns" id="arena">
      <button id="yes">YES</button>
      <button id="no">NO</button>
    </div>

    <div class="result" id="result"></div>
    <div class="hint">Tip: el bot√≥n NO es un boss‚Ä¶ y se asusta üòÖ</div>
  </main>

  <script>
    const card = document.getElementById("card");
    const yes  = document.getElementById("yes");
    const no   = document.getElementById("no");
    const arena = document.getElementById("arena");
    const q = document.getElementById("q");
    const result = document.getElementById("result");
    const flash = document.getElementById("flash");

    // ----- NO se escapa dentro del √°rea -----
    function dodgeNo(){
      const rect = arena.getBoundingClientRect();
      const btnRect = no.getBoundingClientRect();

      const maxX = rect.width - btnRect.width;
      const maxY = rect.height - btnRect.height;

      const x = Math.max(0, Math.min(maxX, Math.random() * maxX));
      const y = Math.max(0, Math.min(maxY, Math.random() * maxY));

      no.style.left = `${x}px`;
      no.style.top  = `${y}px`;
      no.style.transform = "none";
      no.style.transition = "transform .06s ease";

      const lines = ["NO esquivado üòà", "Buen try‚Ä¶ üôà", "Nope üòè", "Dale YES üíò"];
      result.textContent = lines[(Math.random()*lines.length)|0];
    }
    no.addEventListener("mouseenter", dodgeNo);
    no.addEventListener("click", dodgeNo);

    // ----- YES por niveles (varios clics) -----
    const stages = [
      { title: "LEVEL 1 ‚úÖ", msg: "Ok‚Ä¶ empezamos suave üò≥", confetti: 20 },
      { title: "LEVEL 2 ‚úÖ", msg: "Ya vas en serio‚Ä¶ üëÄ", confetti: 50 },
      { title: "LEVEL 3 ‚úÖ", msg: "√öltimo nivel‚Ä¶ üòè", confetti: 90 },
      { title: "FINAL BOSS üí•", msg: "Ufff. Nos vemos en Golden Corral üòÆ‚Äçüí®üî•", confetti: 260, final:true }
    ];
    let yesClicks = 0;

    yes.addEventListener("click", () => {
      const stage = stages[Math.min(yesClicks, stages.length - 1)];
      yesClicks++;

      q.textContent = stage.title;
      result.textContent = stage.msg;

      // animaci√≥n arcade del bot√≥n
      yes.animate(
        [
          { transform: "translateY(0) scale(1)" },
          { transform: "translateY(-2px) scale(1.18)" },
          { transform: "translateY(0) scale(1.08)" },
          { transform: "translateY(-1px) scale(1.12)" },
          { transform: "translateY(0) scale(1)" }
        ],
        { duration: 620, easing: "cubic-bezier(.2,1.2,.2,1)" }
      );

      popConfetti(stage.confetti);

      if(stage.final){
        card.classList.add("win");
        burstShake();
        flash.classList.remove("on"); void flash.offsetWidth; flash.classList.add("on");
        yes.disabled = true;
        no.disabled = true;
      }
    });

    function burstShake(){
      card.animate(
        [
          { transform:"translateX(0px)" },
          { transform:"translateX(-5px)" },
          { transform:"translateX(5px)" },
          { transform:"translateX(-4px)" },
          { transform:"translateX(4px)" },
          { transform:"translateX(0px)" },
        ],
        { duration: 340, easing:"ease-out" }
      );
    }

    // ----- Confetti (canvas) -----
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");

    function hardResize(){
      canvas.width  = Math.floor(window.innerWidth * devicePixelRatio);
      canvas.height = Math.floor(window.innerHeight * devicePixelRatio);
      ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);
    }
    hardResize();
    window.addEventListener("resize", hardResize);

    const confetti = [];
    let animating = false;

    function popConfetti(count){
      const W = window.innerWidth, H = window.innerHeight;
      const colors = ["#00ffa8","#ff4dff","#45a3ff","#ffd166","#ff3d57","#b8c7ff"];

      for(let i=0;i<count;i++){
        confetti.push({
          x: Math.random()*W,
          y: -20 - Math.random()*H*0.15,
          vx: (Math.random()-0.5)*7,
          vy: 2 + Math.random()*7,
          r: 2 + Math.random()*5,
          rot: Math.random()*Math.PI,
          vr: (Math.random()-0.5)*0.35,
          c: colors[(Math.random()*colors.length)|0],
          life: 220 + Math.random()*140
        });
      }
      if(!animating){
        animating = true;
        requestAnimationFrame(tick);
      }
    }

    function tick(){
      const W = window.innerWidth, H = window.innerHeight;
      ctx.clearRect(0,0,W,H);

      for(let i=confetti.length-1;i>=0;i--){
        const p = confetti[i];
        p.x += p.vx;
        p.y += p.vy;
        p.vy += 0.04;
        p.rot += p.vr;
        p.life -= 1;

        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);
        ctx.fillStyle = p.c;
        ctx.fillRect(-p.r, -p.r, p.r*2.6, p.r*1.2);
        ctx.restore();

        if(p.y > H + 50 || p.life <= 0) confetti.splice(i,1);
      }

      if(confetti.length){
        requestAnimationFrame(tick);
      }else{
        animating = false;
        ctx.clearRect(0,0,W,H);
      }
    }
  </script>
</body>
</html>
